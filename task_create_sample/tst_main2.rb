#
# タスクを動的に生成し、繰り返し run する
#
# $i = $i.to_i + 1
# puts "Task2: #{$i}"

byte_code = "RITE0300\x00\x00\x00vMATZ0000IREP\x00\x00\x00Z0300\x00\x00\x00N\x00\x01\x00\x04\x00\x00\x00\x00\x00\x00\x00\x1C\x15\x01\x00/\x01\x01\x00=\x01\x01\x16\x01\x00Q\x02\x00\x15\x03\x00R\x02-\x01\x02\x018\x01i\x00\x01\x00\x00\aTask2: \x00\x00\x03\x00\x02$i\x00\x00\x04to_i\x00\x00\x04puts\x00END\x00\x00\x00\x00\b"

task2 = Task.create(byte_code)
while true
  task2.run
  task2.join
  task2.rewind
end
